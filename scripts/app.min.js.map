{"version":3,"sources":["node_modules/browser-pack/_prelude.js","scripts/app.js","scripts/constants.js","scripts/setColors.js","scripts/setSound.js"],"names":["getAudioContext","window","AudioContext","webkitAudioContext","isTouchDevice","navigator","MaxTouchPoints","msMaxTouchPoints","downEvent","event","mousedown","oscillator","context","createOscillator","gain","_setSound","calculateSoundGain","getY","lightValue","_setColors","calculateLightValue","frequencyPercentage","findFrequencyPercentage","frequency","value","setTargetAtTime","calculateFrequency","getX","currentTime","connect","gainNode","destination","start","setColors","upEvent","stop","disconnect","moveEvent","preventDefault","pageX","pageY","require","document","body","addEventListener","createGain","FREQ","exports","min","max","GAIN","COLOR_RANGE","hue","light","setBackgroundColor","setHeadingColor","mouseYPosition","innerHeight","_constants","freq","freqRange","huePercent","lightPercent","Math","round","backgroundColor","style","heading","getElementById","hueOpposite","lightOpposite","headingColor","color","expInterpolate","n","exp","log","mouseXPosition","innerWidth"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import { \n    calculateFrequency, \n    calculateSoundGain \n} from \"./setSound\";\n\nimport { \n    setColors,\n    findFrequencyPercentage,\n    calculateLightValue \n} from \"./setColors\";\n\nvar context = getAudioContext();\n\nfunction getAudioContext() {\n    if(\"AudioContext\" in window) {\n        return new AudioContext();\n    } else if(\"webkitAudioContext\" in window) {\n        return new webkitAudioContext();\n    }\n}\n\nif(isTouchDevice()) {\n    document.body.addEventListener(\"touchstart\", downEvent);\n    document.body.addEventListener(\"touchend\", upEvent);\n    document.body.addEventListener(\"touchmove\", moveEvent);\n} else {\n    document.body.addEventListener(\"mousedown\", downEvent);\n    document.body.addEventListener(\"mouseup\", upEvent);\n    document.body.addEventListener(\"mousemove\", moveEvent);\n}\n\nvar mousedown = false,\n    oscillator = null,\n    gainNode = context.createGain();\n\nfunction isTouchDevice() {\n    return ((\"ontouchstart\" in window)\n        || (navigator.MaxTouchPoints > 0)\n        || (navigator.msMaxTouchPoints > 0));\n}\n\nfunction downEvent(event) {\n    mousedown = true;\n    oscillator = context.createOscillator();\n\n    var gain = calculateSoundGain(getY(event)),\n        lightValue = calculateLightValue(getY(event)),   \n        frequencyPercentage = findFrequencyPercentage(oscillator.frequency.value); \n    \n\n    oscillator.frequency.setTargetAtTime(calculateFrequency(getX(event)), context.currentTime, 0.01);\n    oscillator.connect(gainNode);\n    \n    gainNode.connect(context.destination);\n    gainNode.gain.setTargetAtTime(gain, context.currentTime, 0.01);\n    \n    oscillator.start(context.currentTime);\n    \n    setColors(frequencyPercentage, lightValue);   \n}\n\nfunction upEvent() {\n    if(oscillator) {\n        mousedown = false;\n        oscillator.stop(context.currentTime);\n        oscillator.disconnect();\n    } \n}\n\nfunction moveEvent(event) {\n    event.preventDefault();\n    if(mousedown) {\n        var gain = calculateSoundGain(getY(event)),\n            lightValue = calculateLightValue(getY(event)),\n            frequencyPercentage = findFrequencyPercentage(oscillator.frequency.value);    \n        \n        oscillator.frequency.setTargetAtTime(calculateFrequency(getX(event)), context.currentTime, 0.01);\n        \n        gainNode.gain.setTargetAtTime(gain, context.currentTime, 0.01); \n        \n        setColors(frequencyPercentage, lightValue);           \n    }\n}\n\n\nfunction getX(event) {\n    return event.pageX;\n}\n\nfunction getY(event) {\n    return event.pageY;\n}\n\n","export const FREQ = {\n    min: 60, \n    max: 2000\n};\n\nexport const GAIN = {\n    min: 0.01,\n    max: 1\n};\n\nexport const COLOR_RANGE = 360;","import { FREQ, GAIN, COLOR_RANGE } from \"./constants\";\n\n\nexport function setColors(hue, light) {\n    setBackgroundColor(hue, light);\n    setHeadingColor(hue, light);\n}\n\nexport function calculateLightValue(mouseYPosition) {\n    return 1 - ((mouseYPosition / window.innerHeight) * GAIN.max);\n}\n\nexport function findFrequencyPercentage(freq) {\n    var freqRange = FREQ.max - FREQ.min;\n    return (freq / freqRange);\n}\n\n\nfunction setBackgroundColor(huePercent, lightPercent) {\n    var hue = Math.min(360, Math.round(COLOR_RANGE * huePercent)), \n        light = (70 * lightPercent) + 10, \n        backgroundColor = \"hsla(\" + hue + \", 50%, \" + light + \"%, 1)\";\n\n    document.body.style.backgroundColor = backgroundColor;\n}\n\nfunction setHeadingColor(huePercent, lightPercent) {\n    var heading = document.getElementById(\"heading\"),\n        hue = Math.min(360, Math.round(COLOR_RANGE * huePercent)),\n        hueOpposite = (hue + 180) % 360,\n        lightOpposite = (70 * lightPercent) + 10,\n        headingColor = \"hsla(\" + hueOpposite + \", 50%, \" + lightOpposite + \"%, 1)\";\n\n    if(lightPercent < 0.50) {\n        heading.style.backgroundColor = \"hsla(0, 100%, 100%, 0.75)\";\n    } else {\n        heading.style.backgroundColor = \"hsla(0, 0%, 0%, 0.75)\";\n    }\n\n    heading.style.color = headingColor;\n}\n\n","import { FREQ, GAIN } from \"./constants\";\n\nfunction expInterpolate(n, min, max) {\n    return Math.exp(n * Math.log(max / min)) * min;\n}\n\nexport function calculateFrequency(mouseXPosition) {\n    return expInterpolate(mouseXPosition / window.innerWidth, FREQ.min, FREQ.max);\n}\n\nexport function calculateSoundGain(mouseYPosition) {\n    return expInterpolate(1 - (mouseYPosition / window.innerHeight), GAIN.min, GAIN.max);\n}"]}